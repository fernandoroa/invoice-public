---
title: "Invoice"
output: pdf_document
geometry: "left=3cm,right=2cm,top=0cm,bottom=2cm"
fontsize: 11pt
papersize: a4
params: 
  name: ''
  date: NA
  start_date: NA
  end_date: NA
  inter: FALSE
  salary: 2000
  invoiceNumber: '2022-'
---
```{r setup, message = F,echo=F,warning=F}
library(lubridate)
library(readr)
library(dplyr)
ed <-  ymd(params$end_date)
sm <- month(params$start_date,label = T)
em <- month(params$end_date,label = T)
sdt <- day(params$start_date)
edt <- day(params$end_date)
sy <- year(params$start_date)
ey <- year(params$end_date)

inv_dt <- day(params$date)
inv_m <- month(params$date, label = T)
inv_y <- year(params$date)

library("rjson")

# Give the input file name to the function.
jsonL <- fromJSON(file = "input.json")
```

\pagenumbering{gobble} 

\raggedright Invoice Number: `r params$invoiceNumber` \par

\raggedleft Consultant Business:  `r jsonL$consultantBusiness` \par  
\raggedleft `r jsonL$consultantAddress1` \par  
\raggedleft `r jsonL$consultantAddress2` \par  
\raggedleft `r jsonL$consultantAddress3` \par  
\raggedleft `r jsonL$consultantCountry`  \par 
\raggedleft Contact No:  `r jsonL$consultantPhone` \par  

\raggedright Bill To, \par  
 
`r jsonL$billTo1`  
`r jsonL$billTo2`  
`r jsonL$billTo3`  
`r jsonL$billTo4`  
`r jsonL$billTo5`  

\begin{flushright} 
Date:  `r inv_dt` `r inv_m` `r inv_y`  
\end{flushright} 

|Services                |AMOUNT(USD)
|------------------------|-----------
|Consultancy Charges     |          | 
| `r  sdt` `r sm` `r sy` to `r edt` `r em` `r ey`|         | 
| 1 month                | `r params$salary` USD |
|                        |          |            
| **TOTAL**              | **`r params$salary` USD** |


\begin{flushright} 
Signature
\end{flushright}

**Wire/Bank Account Information** 
 
``` {r , results="asis", echo=F, eval=params$inter} 
cat("**Intermediary / Correspondent Bank (Field 56)**  \n  ")
cat(paste0("SWIFT: **",jsonL$intermediary_bank_swift,"**  \n") )    
cat(paste0("Name:",    jsonL$intermediary_bank_name,"  \n")  )
cat(paste0("Country:", jsonL$intermediary_bank_country,"  \n") )  
```

Beneficiary **Bank (Field 57):**  
SWIFT: **`r jsonL$final_bank_swift`**   
``` {r , results="asis", echo=F, eval=params$inter} 
cat(paste(paste0("**",jsonL$final_bank_short_name," Account** with")
,jsonL$intermediary_bank_name,":",paste0("**",jsonL$final_bank_account,"**  \n") ) )
```
Name: **`r jsonL$final_bank_name`**  
Address: `r jsonL$final_bank_address`  
Country: `r jsonL$final_bank_country`  

Consultant Business / **Beneficiary Customer (Field 59):**  
Name: `r jsonL$consultantBusiness`    
IBAN: **`r jsonL$consultantIBAN`**  
Address: `r paste(jsonL$consultantAddress1,jsonL$consultantAddress2,jsonL$consultantAddress3)`  
Country: `r jsonL$consultantCountry`  
